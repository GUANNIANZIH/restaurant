import{_ as q,u as L,b5 as T,a0 as A,r as u,a as $,o as r,b as p,w as a,d as e,b7 as z,as as R,b8 as j,aK as I,X as x,Y as m,W as f,aO as E,J as G,a3 as J,f as k,F as C,g as N,n as K,a4 as M,V as O,aN as W,Z as B,$ as F,c as X,a6 as Y,j as Z}from"./index-tnzIr2VH.js";import{V as S}from"./VRow-BeY0Wjvy.js";import{V as H}from"./VRating-6kIAts3b.js";import{V as Q}from"./VDivider-DTQNOPFI.js";import{a as ee,b as ae,V as te}from"./VSelect-BcqLxBb3.js";import{V as le}from"./VCheckbox-zhqBbWKc.js";import{V as U,a as y}from"./VCol-Cwv4e_q3.js";import{V as se,a as oe}from"./VTabs-ClLn5mOd.js";import{V as re}from"./VPagination-Cuxj8YD9.js";import"./VList-qUjOs-Px.js";import"./ssrBoot-B-xPYqUY.js";import"./VSlideGroup-BMHlfvAS.js";import"./VWindowItem-BsosunT4.js";const ce=l=>(B("data-v-c1884814"),l=l(),F(),l),ue={class:"me-1"},de={class:"me-1"},ne=ce(()=>f("div",{class:"text-grey ms-4"}," 4.5 (413) ",-1)),ie={class:"my-4 text-subtitle-1"},me={class:"px-4 mb-2"},pe={__name:"productCard",props:{_id:{type:String,required:!0},name:{type:String,required:!0},price:{type:Number,required:!0},image:{type:String,required:!0},description:{type:String,required:!0},category:{type:String,required:!0},sell:{type:Boolean,required:!0}},setup(l){const w=l,_=L(),v=T(),D=A(),V=u("不辣"),g=["不辣","微辣","小辣","中辣","大辣"],i=u([{label:"加辣",type:"select",value:V,options:g,selected:g[0]},{label:"加蛋 +15",type:"checkbox",value:!1,selected:!1},{label:"加飯 +15",type:"checkbox",value:!1,selected:!1},{label:"加沙茶 +15",type:"checkbox",value:!1,selected:!1},{label:"加料 +45",type:"checkbox",value:!1,selected:!1}]),c=u(!1),b=s=>{i.value[s].selected=!i.value[s].selected},d=async()=>{if(!_.isLogin){v.push("/member");return}c.value=!0;const s=i.value.reduce((n,o)=>(n[o.label]=o.selected,n),{}),t=await _.addCart(w._id,1,s);D({text:t.text,snackbarProps:{color:t.color}}),c.value=!1};return setTimeout(()=>{c.value=!1},2e3),(s,t)=>{const n=$("router-link");return r(),p(W,{disabled:c.value,loading:c.value,class:"mx-auto my-12","min-width":"374","max-width":"374"},{loader:a(({isActive:o})=>[e(z,{active:o,color:"#D78A24",height:"4",indeterminate:""},null,8,["active"])]),default:a(()=>[e(n,{to:"/products/"+l._id,class:"no-underline"},{default:a(()=>[e(R,{height:"250",src:l.image,cover:""},null,8,["src"])]),_:1},8,["to"]),e(j,null,{default:a(()=>[e(n,{to:"/products/"+l._id,class:"no-underline"},{default:a(()=>[e(I,{class:"a-custom"},{default:a(()=>[x(m(l.name),1)]),_:1})]),_:1},8,["to"]),e(I,null,{default:a(()=>[f("span",ue,m(l.category),1)]),_:1}),e(E,null,{default:a(()=>[f("span",de,m(l.description),1),e(G,{color:"#D78A24",icon:"mdi-fire-circle",size:"small"})]),_:1})]),_:1}),e(J,null,{default:a(()=>[e(S,{class:"mx-0"},{default:a(()=>[e(H,{"model-value":4.5,color:"amber",density:"compact",size:"small","half-increments":"",readonly:""}),ne]),_:1}),f("div",ie," $"+m(l.price),1)]),_:1}),e(Q,{class:"mx-4 mb-1"}),e(I,{class:"v-card-title-text"},{default:a(()=>[x("客製化口味")]),_:1}),f("div",me,[e(ee,{multiple:"",column:""},{default:a(()=>[(r(!0),k(C,null,N(i.value,(o,P)=>(r(),p(ae,{key:P,class:K({"bg-y":o.selected}),onClick:h=>b(P)},{default:a(()=>[x(m(o.label)+" ",1),o.type==="select"?(r(),p(te,{key:0,modelValue:o.value,"onUpdate:modelValue":h=>o.value=h,items:o.options,label:"選擇辣度",class:"ml-2",dense:""},null,8,["modelValue","onUpdate:modelValue","items"])):(r(),p(le,{key:1,modelValue:o.value,"onUpdate:modelValue":h=>o.value=h,class:"hidden-checkbox"},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1032,["class","onClick"]))),128))]),_:1})]),e(M,null,{default:a(()=>[e(O,{color:"#D78A24",text:"addCart",block:"",hover:"",onClick:d,loading:c.value},null,8,["loading"])]),_:1})]),_:1},8,["disabled","loading"])}}},fe=q(pe,[["__scopeId","data-v-c1884814"]]),ve=l=>(B("data-v-65c3a36d"),l=l(),F(),l),Ve=ve(()=>f("h4",{class:"text-h2"},"MENU 菜單",-1)),_e={__name:"menu",setup(l){const{api:w}=Y(),_=A(),v=u("炒飯 | Fried Rice"),D=u(["炒飯 | Fried Rice","炒麵 | Fried Noodles","湯麵 | Soup Noodles","炒米粉 | Fried Vermicelli","湯米粉 | Soup Vermicelli","湯品 | Soup","小品 | Dishes","新品上市"]),V=u([]),g=X(()=>V.value.filter(d=>d.category===v.value)),i=u(1),c=u(1),b=async()=>{var d,s;try{const{data:t}=await w.get("/product",{});V.value.splice(0,V.value.length,...t.result.data)}catch(t){console.log(t),_({text:((s=(d=t==null?void 0:t.response)==null?void 0:d.data)==null?void 0:s.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return b(),(d,s)=>(r(),k(C,null,[e(U,{fluid:""},{default:a(()=>[e(S,{class:"mx-6"},{default:a(()=>[e(y,{cols:"12"},{default:a(()=>[Ve]),_:1})]),_:1}),e(S,{class:"mx-6"},{default:a(()=>[e(y,{cols:"12"},{default:a(()=>[e(se,{modelValue:v.value,"onUpdate:modelValue":s[0]||(s[0]=t=>v.value=t),grow:"","bg-color":"#3C5D44",height:"62","next-icon":"mdi-arrow-right","prev-icon":"mdi-arrow-left","show-arrows":"","slider-color":"#D78A24"},{default:a(()=>[(r(!0),k(C,null,N(D.value,t=>(r(),p(oe,{key:t,value:t},{default:a(()=>[x(m(t),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(U,{fluid:""},{default:a(()=>[e(S,{class:"d-flex justify-center"},{default:a(()=>[(r(!0),k(C,null,N(g.value,(t,n)=>(r(),p(y,{key:n,class:"d-flex justify-center align-center p-2",cols:"12",md:"6",lg:"4"},{default:a(()=>[e(fe,Z({ref_for:!0},t),null,16)]),_:2},1024))),128)),e(y,{cols:"12"},{default:a(()=>[e(re,{modelValue:c.value,"onUpdate:modelValue":[s[1]||(s[1]=t=>c.value=t),b],length:i.value,rounded:"circle"},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})],64))}},Ue=q(_e,[["__scopeId","data-v-65c3a36d"]]);export{Ue as default};
