import{h as C,bc as b,bd as h,_ as S,r as d,b4 as v,o as i,b as m,w as s,d as a,b8 as w,at as x,aJ as y,X as _,Y as p,aN as k,a4 as N,W as g,a5 as q,V as G,aM as I,a1 as B,e as V,be as P,f as T,F as A,g as j,j as D,a7 as E}from"./index-xxw83cIx.js";import{V as F}from"./VSheet-BkESh1II.js";import{V as L,a as R}from"./VSlideGroup-k1lxx-uU.js";import{V as J}from"./VCol-9wO-e30C.js";const M=C()({name:"VSlideGroupItem",props:b(),emits:{"group:selected":l=>!0},setup(l,t){let{slots:r}=t;const o=h(l,L);return()=>{var n;return(n=r.default)==null?void 0:n.call(r,{isSelected:o.isSelected.value,select:o.select,toggle:o.toggle,selectedClass:o.selectedClass.value})}}}),U={__name:"newsCard",props:{_id:{type:String,required:!0},title:{type:String,required:!0},subtitle:{type:String,required:!0},content:{type:String,required:!0},image:{type:String,required:!0},category:{type:String,required:!0},isPublished:{type:Boolean,required:!0}},setup(l){d(!1);const t=d(!1);d(1),v();const r=()=>{t.value=!0};return setTimeout(()=>{t.value=!1},2e3),(o,n)=>(i(),m(I,{class:"ma-5",width:"450",disabled:t.value,loading:t.value},{loader:s(({isActive:f})=>[a(w,{active:f,color:"deep-purple",height:"4",indeterminate:""},null,8,["active"])]),default:s(()=>[a(x,{class:"align-end text-white",height:"300",src:l.image,cover:""},null,8,["src"]),a(y,null,{default:s(()=>[_(p(l.title),1)]),_:1}),a(k,{class:"pt-4"},{default:s(()=>[_(p(l.subtitle),1)]),_:1}),a(N,null,{default:s(()=>[g("div",null,p(l.content),1)]),_:1}),a(q,{class:"d-flex justify-center primary-color"},{default:s(()=>[a(G,{color:"white",text:"Explore",onClick:r})]),_:1})]),_:1},8,["disabled","loading"]))}},W=S(U,[["__scopeId","data-v-50969dab"]]),X=g("br",null,null,-1),Y=g("h2",{class:"text-h5"},"玉食堂最新消息",-1),O={__name:"news",setup(l){const t=d(""),r=d([]),{api:o}=E(),n=B();return(async()=>{var c,u;try{const{data:e}=await o.get("/news",{});console.log(e),r.value.splice(0,r.value.length,...e.result.data)}catch(e){console.log(e),n({text:((u=(c=e==null?void 0:e.response)==null?void 0:c.data)==null?void 0:u.message)||"無法載入活動資料",snackbarProps:{color:"#D78A24"}})}})(),(c,u)=>(i(),m(J,{fluid:"",class:"m-0 p-0 my-v-container"},{default:s(()=>[a(F,{class:"mx-auto mb-5 w-100 p-5 text-center"},{default:s(()=>[X,Y,a(R,{modelValue:V(t),"onUpdate:modelValue":u[0]||(u[0]=e=>P(t)?t.value=e:null),class:"pa-4","show-arrows":""},{default:s(()=>[(i(!0),T(A,null,j(V(r),e=>(i(),m(M,{key:e._id},{default:s(()=>[a(W,D({ref_for:!0},e),null,16)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}))}};export{O as _};
